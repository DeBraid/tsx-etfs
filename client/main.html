<head>
  <title>TSX ETF and Stocks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>
  <div class="container">
    {{> welcome }}
    {{> lineChart }}
  </div>
</body>

<template name="welcome">
  <div class="row">
   <div class="col-sm-12">
     <h1>TSX ETFs and Stocks</h1>
    <h4>by <a href="http://twitter.com/Royal_Arse">@Royal_Arse</a> of <a href="http://cacheflow.ca">cacheflow.ca</a></h4>
    <p>Code on <a href="http://github.com/DeBraid/tsx-etfs">Github</a></p>
   </div> 
  </div>
</template>

<template name="lineChart">
  <div class="row">
    <div class="col-sm-7">
      <svg id="lineChart"></svg>
    </div>
    <div class="col-sm-5">    
      {{> waiting}}
      {{#with inputState }}

      <div class="input-group add-on {{ this.klass }}">
          <input type="text" class="form-control" placeholder="Enter ticker symbol" name="ticker" id="ticker-search">
        <div id="get-new-data" class="input-group-btn">
          <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
        </div>
      </div>
      {{/with}}
    
      {{#with tickers }}      
        <h3>ETFs</h3>
        {{#each tickers.etfs}}
          <span class="ticker-list" style="padding-right: 5px;">{{ this }}</span>
        {{/each }}
        <h3>Stocks</h3>
        {{#each tickers.stocks}}
          <span class="ticker-list" style="padding-right: 5px;">{{ this }}</span>
        {{/each }}
      {{/with}}
    </div>
  </div>
</template>

<template name="waiting">
  {{#if waitingIs "false"}}
    {{> spinner}}
    <h5>Retry if red for 5 seconds </h5>
    {{ else }}
    <h5>Type ticker symbol, hit enter:</h5>
  {{/if}}
</template>